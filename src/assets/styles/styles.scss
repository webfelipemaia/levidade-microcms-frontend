// ============================================
// 1. MODULOS E FONTES
// ============================================
@use "sass:color";
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&family=Nunito:wght@400;600;700&display=swap');

// ============================================
// 2. SUAS VARIÁVEIS DE CORES (Custom Colors)
// ============================================
$leve-primary:   #766AF7;
$leve-secondary: #6c757e;
$leve-info:      #5bc0eb;
$leve-warning:   #f4c430;
$leve-success:   #3bcf9b;
$leve-danger:    #e5535d;
$link-color:     #524aac;
$light:          #f8f9fa;
$dark:           #1f2937;
$white:          #ffffff;
$body-color:     #343a40;
$body-bg:        #fcfcfb;

// ============================================
// 3. BOOTSTRAP OVERRIDES (Onde a mágica acontece)
// ============================================
// Importe as funções primeiro para poder usar mapas e cálculos
@import "bootstrap/scss/functions";

// Sobrescreva as variáveis globais do Bootstrap ANTES dos arquivos core
$primary:       $leve-primary;
$secondary:     $leve-secondary;
$success:       $leve-success;
$info:          $leve-info;
$warning:       $leve-warning;
$danger:        $leve-danger;
$font-family-sans-serif: 'Nunito', sans-serif;
$headings-font-family: 'Montserrat', sans-serif;

// Sobrescreva o Mapa de Cores para o Bootstrap gerar btn-primary, bg-primary, etc com SUAS cores
$theme-colors: (
  "primary":    $primary,
  "secondary":  $secondary,
  "success":    $success,
  "info":       $info,
  "warning":    $warning,
  "danger":     $danger,
  "white":      $white,
  "dark":       $dark
);

// ============================================
// Text & links
// ============================================

$text-muted: color.adjust($body-color, $lightness: 25%);
$text-on-dark: $white;

$link-color: $primary;
$link-hover-color: color.adjust($primary, $lightness: -10%);
$link-decoration: none;
$link-hover-decoration: underline;


// ============================================
// Layout & components
// ============================================

$navbar-bg:         #ffffff;
$app-border-radius: 8px;

// ============================================
// Theme tokens (CSS Variables)
// ============================================

:root {
    --app-bg: #{$body-bg};
    --app-text: #{$body-color};
    --app-link-color: #{$link-color};
    --app-primary: #{$primary};
    --app-secondary: #{$secondary};
    --app-info: #{$info};
    --app-warning: #{$warning};
    --app-danger: #{$danger};  
    --app-light: #{$light};
    --app-dark: #{$dark};
    --app-white: #{$white};
  
    // Primary
    --app-btn-primary-bg: $primary;
    --app-btn-primary-border: $primary;
    --app-btn-primary-hover-bg: color.adjust(--app-primary, $lightness: -8%);
    --app-btn-primary-hover-border: color.adjust(--app-primary, $lightness: -10%);
    --app-btn-primary-active-bg: color.adjust(--app-primary, $lightness: -12%);
  
  
  // Secondary
  --app-btn-secondary-bg: --app-secondary;
  --app-btn-secondary-border: --app-secondary;
  --app-btn-secondary-color: $--app-white;
  --app-btn-secondary-hover-bg: color.adjust(--app-secondary, $lightness: -5%);
  --app-btn-secondary-hover-border: color.adjust(--app-secondary, $lightness: -7%);
  
  
  // Outline
  --app-btn-outline-primary-color: --app-primary;
  --app-btn-outline-primary-border: --app-primary;
  --app-btn-outline-primary-hover-bg: --app-primary;
  --app-btn-outline-primary-hover-color: --app-white;
  
  // Headings
  --app-headings-color: #{$dark};
  
  // ============================================
  // Primary Variations (#1e3161)
  // ============================================
  
  --app-primary-100: #e4e2f3 /*tint-color(#{$primary}, 80%)*/;
  --app-primary-200: #c8c4fd /* tint-color(#{$primary}, 40%) */;
  --app-primary-300: #aca6fb /* tint-color(#{$primary}, 60%) */;
  --app-primary-400: #9088fa /* tint-color(#{$primary}, 20%) */;
  --app-primary-500: $primary;
  --app-primary-600: #5e54c6 /* shade-color(#{$primary}, 20%) */;
  --app-primary-700: #474095 /* shade-color(#{$primary}, 40%) */;
  --app-primary-800: #2f2b64 /* shade-color(#{$primary}, 60%) */;
  
  // ============================================
  // Secondary Variations (#b79c75)
  // ============================================
  
  --app-secondary-100: #e2e4e6;
  --app-secondary-200: #c5c8cc;
  --app-secondary-300: #a9adb3;
  --app-secondary-400: #8e9399;
  --app-secondary-500: $secondary;
  --app-secondary-600: #565f66;
  --app-secondary-700: #40484d;
  --app-secondary-800: #2b3033;
  
  --app-border-radius: $app-border-radius
  }
  
  [data-bs-theme="dark"] {
    --app-bg: #0f172a;
    --app-text: #e5e7eb;
  
    --app-primary: #8f88ff;
    --app-secondary: #9aa0a6;
    --app-success: #4fe0b0;
    --app-info: #7ad3f2;
    --app-warning: #ffd166;
    --app-danger: #ff6b6b;  
    --app-light: #2a2f3c;
    --app-dark: #0f172a;
    --app-white: #252629;
  }
  

// ============================================
// 4. BOOTSTRAP CORE IMPORTS
// ============================================
@import "bootstrap/scss/variables";
@import "bootstrap/scss/variables-dark";
@import "bootstrap/scss/maps";
@import "bootstrap/scss/mixins";
@import "bootstrap/scss/utilities";
@import "bootstrap/scss/root";
@import "bootstrap/scss/reboot";

@import "bootstrap/scss/type";
@import "bootstrap/scss/images";
@import "bootstrap/scss/containers";
@import "bootstrap/scss/grid";
@import "bootstrap/scss/tables";
@import "bootstrap/scss/forms";
@import "bootstrap/scss/buttons";
@import "bootstrap/scss/transitions";
@import "bootstrap/scss/dropdown";
@import "bootstrap/scss/button-group";
@import "bootstrap/scss/nav";
@import "bootstrap/scss/navbar";
@import "bootstrap/scss/card";
@import "bootstrap/scss/breadcrumb";
@import "bootstrap/scss/accordion";
@import "bootstrap/scss/pagination";
@import "bootstrap/scss/badge";
@import "bootstrap/scss/alert";
@import "bootstrap/scss/progress";
@import "bootstrap/scss/list-group";
@import "bootstrap/scss/close";
@import "bootstrap/scss/modal";
@import "bootstrap/scss/tooltip";
@import "bootstrap/scss/popover";
@import "bootstrap/scss/carousel";
@import "bootstrap/scss/offcanvas";

// Helpers & utilities
@import "bootstrap/scss/helpers";
@import "bootstrap/scss/utilities/api";

// ============================================
// 5. Custom styles
// ============================================

@import "animations";

// Estilos globais para Cards (Agora sem o bloqueio do #app)
.card {

    border-color: var(--app-secondary-200);
    
    .card-header {
        background-color: transparent;
        border-bottom-color: var(--app-secondary-200);

        .setting-title {
            color: var(--app-primary-800);
        }
    }
    .card-footer {
        background-color: transparent;
        border-top-color:  var(--app-secondary-200);
    }
}


.navbar {
    background-color: var(--app-whitte);
    color: var(--app-text);
    border-bottom: 1px solid rgba(76,103,118,.15);

    a,
    .nav-link {
        color: var(--link-color);

        &:hover {
            color: var(--link-color);
            text-decoration: none;
        }
    }

    a {
        &::after {
            content: '';
            display: block;
            transform: scaleX(0);
            border-bottom: 2px solid var(--link-color);
            background: #2d5972;
            transition: transform 0.5s ease;
            transform-origin: left;
        }

        &:hover::after {
            transform: scaleX(1);
        }
    }
}

.sidebar {
    transition: all .2s;
    background: var(--app-white);
    border-right: 1px solid rgba(76,103,118,.15);
    z-index: 2;
  
    .nav {
      .nav-item {

        .nav-link {
          color: var(--link-color);
          font-weight: bold;

          &.active {
            color: var(--bs-nav-pills-link-active-color);
          }
  
          &:hover {
            color: $leve-secondary;
          }
        }
  
        .subnav {
            .nav-link {
              color: create-light($leve-secondary,15%);
              font-weight: 400;
  
              &:hover {
                color: create-shadow($leve-secondary,5%);
              }
  
              &:active,
              &:focus {
                background-color: rgba(118,106,247,0.10);
                border-radius: var(--app-border-radius);
                border: none;
                color: var(--link-color);
              }
            }
        }
    }
  
    a:focus-visible {
      box-shadow: none;
    }
}

.offcanvas-body {
    padding: 0;
}

.offcanvas-nav{

    .nav-item {
        width: 100%;

        .nav-link {
            font-weight: 500;
            color: var(--link-color);
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            /* border-radius: 0; */
            border-left: 3px solid transparent;


            .menu-text {
                flex-grow: 1;
            }

            .menu-arrow {
                margin-left: auto;
                transition: transform 0.2s ease-in-out;
            }

            &:not(.collapsed) {
                .menu-arrow {
                    -webkit-transform: rotate(180deg);
                    transform: rotate(180deg);
                }
            }

            i,
            .menu-text {
                color: var(--link-color);
            }


            &:hover {
                background-color: rgba(0, 0, 0, 0.05);
                color: var(--app-secondary-700);
            }

            &:active {
                background-color: var(--app-light);
                color: var(--app-primary);
                border-left-color: transparent /* var(--app-primary-600) */;
            }
        }

        .nav-link[data-bs-toggle=collapse][aria-expanded=true].active {
            background-color: rgba(0, 0, 0, 0.15);
            color: var(--app-secondary-800);
        }


        .submenu {
            background-color: rgba(0, 0, 0, 0.02);

            .nav-link {
                padding-left: 2.5rem;
                font-size: 0.9rem;
                border-left: none;

                &.active {
                    background-color: var(--app-primary);
                    color: var(--app-white);
                    font-weight: 600;
                }
            }

        
        }

    }

}

a[data-bs-toggle=collapse][aria-expanded=true] {
	.menu-arrow {
		-webkit-transform: rotate(180deg);
		transform: rotate(180deg);
	}
}


#app {
/*     font-family: Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale; */
    color: var(--app-text);

      
    .maincontent {
        display: flex;
        overflow-x: hidden;
        width: 100%;
        min-height: calc(100vh - 72px);
        padding-top: 1rem;
        flex-wrap: wrap;
        
        section {
            .heading {
                padding: 1rem;
                margin-bottom: 1.5rem;
      
                h2 {
                    color: $link-color;
                }
            }
      
            .snippets {
                padding: 1rem;
      
                .snippets_heading {
                    margin-bottom: 1.5rem;
                }
        
                .snippets_short-description {
                    padding-top: 0.5rem;
                    margin-bottom: 1.75rem;
        
                    p {
                        line-height: 2rem;
                    }
                }
      
                .snippets_item {
                    padding-top: 3rem;
                    padding-bottom: 1.5rem;
        
                    .snippets_item-title {
                        color: $link-color;
                    }
        
                    .snippets_item-description {
                        p {
                            line-height: 2rem;
                        }
                    }
        
                    .snippets_item-code {
                        border: 1px solid rgba(118,106,247,.05);
                        background-color: rgba(118,106,247,.05);
                        margin-bottom: 1.5rem;
        
                        pre {
                            margin-bottom: 0;
            
                            code {
                                background-color: transparent;
                            }
                        }
                    }

                    .snippets_item-howto {
                        margin-top: 3rem;
                        margin-bottom: 1.5rem;
                    }

                    .snippets_item-howto-description {
                        margin: 1.5rem 0;
                    }

                    .snippets_item-explain {
                        margin: 2rem 0;
                        font-size: 18px;
                    }
                }
            }
        }


    }
     
    // todo: create new colors for tips
    .tip {
        margin: 28px 0;
        padding: 20px 24px 4px 42px;
        overflow-x: auto;
        transition: color .5s, background-color .5s;
        position: relative;
        font-size: 15px;
        line-height: 1.6;
        font-weight: 500;
        color: hsl(247.5,7.1%,33.9%);
        background-color: hsl(244.3,11.8%,90.3%);
        border-bottom: 4px solid hsl(244.3,11.8%,73.3%);
      
        .tip_title {
            font-weight: bold;
        }
      
        &.tip-primary {
            background-color: hsl(245.1,89.8%,95.2%);
            border-bottom: 4px solid hsl(245.1,89.8%,83.2%);
        }
      
        &.tip-secondary {
            background-color: hsl(247.5,7.1%,95.9%);
            border-bottom: 4px solid hsl(247.5,7.1%,83.9%);
        }
      
        &.tip-success {
            background-color: hsl(112,45.4%,95.1%);
            border-bottom: 4px solid hsl(112,45.4%,83.1%);
        }
      
        &.tip-danger {
            background-color: hsl(2.1,89.8%,95.2%);
            border-bottom: 4px solid hsl(2.1,89.8%,83.2%);
        }
      
        &.tip-warning {
            background-color: hsl(62.1,89.8%,93.2%);
            border-bottom: 4px solid hsl(62.1,89.8%,83.2%);
        }
      
        &.tip-info {
            background-color: hsl(206.8,89.8%,93.2%);
            border-bottom: 4px solid hsl(206.8,89.8%,83.2%);
        }
      
        &.tip-light {
            background-color: hsl(260,9.7%,98.9%);
            border-bottom: 4px solid hsl(260,9.7%,92.9%);
        }
      
        &.tip-dark {
            background-color: hsl(260,9.7%,38.9%);
            border-bottom: 4px solid hsl(260,9.7%,15.9%);
            color: hsl(260,9.7%,95.9%);
        }
    }
      
    footer {
        background-color: hsl(260,9.7%,98.9%);
      
        .nav {
            .nav-item {
                .nav-link {
                    color: hsl(247.5,7.1%,43.9%);
      
                    &:hover {
                        color: $link-color;
                        text-decoration: underline;
                    }
                }
            }
        }
    }



    .content-divider {
        height: 0;
        margin: var(--bs-dropdown-divider-margin-y) 0;
        overflow: hidden;
        border-top: 1px solid var(--bs-dropdown-divider-bg);
        opacity: 1;
    }
}      
    
    
// for mobile
@media (min-width: 768px) {

    .offcanvas-nav {
        width: 280px;
    }
}
@media (max-width: 768px) {
    
    .leve {
        &.offcanvas-md {
            position: fixed;
            bottom: 0;
            z-index: var(--bs-offcanvas-zindex);
            display: flex;
            flex-direction: column;
            max-width: 100%;
            color: var(--bs-offcanvas-color);
            visibility: hidden;
            background-color: var(--bs-offcanvas-bg);
            background-clip: padding-box;
            outline: 0;
            transition: var(--bs-offcanvas-transition);

            &.offcanvas-start {
                top: 0;
                left: 0;
                width: var(--bs-offcanvas-width);
                border-right: var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);
                transform: translateX(-100%);
            }

            &.show {
                &:not(.hiding) {
                transform: none;
                }
            }

            &.hiding {
                visibility: visible;
              }
        
        }

        .offcanvas-md {
            &.showing {
              transform: none;
            }

            &.show, 
            &.showing {
              visibility: visible;
            }
        }      
    }       
} 
       
}